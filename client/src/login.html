<!-- <!DOCTYPE html>
<html>
<title></title>
<head>
    <link rel="stylesheet" type="text/css" href="./css/loginStyle.css">
</head>
<body>
    <body>
        <div class="container">
          <div class="backbox">
            <div class="loginMsg">
              <div class="textcontent">
                <p class="title">Don't have an account?</p>
                <a href = "src/register.html">
                <button id="switch">Sign Up</button>
                </a>
              </div>
            </div>
          </div>
      
          <div class="frontbox">
            <div class="login">
                    <h2>Log In</h2>
                        <div class="inputbox">
                            <form id="loginForm" method="POST" onsubmit="return validateUserInput()">
                                <input type="text" name="email" id="email" placeholder="  EMAIL">
                                <p className="errorMessage" id="errorEmail"></p>
                                <input type="password" name="password" id="password" placeholder="  PASSWORD">
                                <p class="errorMessage" id="errorPassword"></p>
                                <input type="checkbox" name="rememberMe" id="rememberMe" value="Remember Me">Remember Me</input>
                                <br>
                                <p class="errorMessage" id="errorUser"></p>
                                <button type="submit">Log In</button>
                            </form>
                        </div>
                </div>
          </div>
        </div>
        <script>   
            var email;
            var password;

            function validateUserInput() {
                email = document.getElementById('email').value;
                password = document.getElementById('password').value;
                if(email == 'admin' && password == 'admin'){
                    return true;
                }

                let isValidEmail = (/\S+@\S+\.\S+/).test(email)
                if(!isValidEmail) {
                    document.getElementById('errorEmail').innerHTML = "Wrong email format";
                    return false;
                }

                let isValidPassword = password.length > 5;
                if(!isValidPassword){
                    document.getElementById('errorPassword').innerHTML = "password must contains at list 6 characters";
                    return false;
                }

                return true;
            }

            var ans;
            const loginForm = document.getElementById('loginForm');
            let rememberMe = document.getElementById('rememberMe').checked;
            loginForm.addEventListener('submit', function(e){
                e.preventDefault();
                fetch(`http://localhost:5000/login?email=${email}&password=${password}&rememberMe=${rememberMe}`, {
                    method: 'post',
                 }) .then(response => response.text())
                    .then(result => ans=result)
                    .then(()=> handleResponse(ans))
                    .catch(error => console.log('error', error));
            });
                
            function handleResponse(ans){
                switch(ans) {
                    case "NOT_EXISTS":
                        document.getElementById('errorPassword').innerHTML = "The details you entered does not match any account. Sign up for the account"
                        break;

                    case "INCORRECT":
                        document.getElementById('errorPassword').innerHTML = "User name or password incorrect"
                        break;

                    case "OK":
                        location.href = "./private/homePage.html";
                        break;
                }       
            }
            </script>
      </body>
</body>
</html> -->